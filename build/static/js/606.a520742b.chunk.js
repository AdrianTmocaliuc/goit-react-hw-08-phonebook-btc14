"use strict";(self.webpackChunkhomWork_08_phonebook_login=self.webpackChunkhomWork_08_phonebook_login||[]).push([[606],{1606:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(3329),a=function(e){var n=e.title,t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:n}),t]})},i=t(2791),o=t(2982),s=t(885),c=t(6274),u="Item_item__FlZ00",l=t(6434),d=t(2293),m=t(8683),h=t(4298),f="ModalEditContact_backdrop__x96ER",p="ModalEditContact_modal__pC7lJ",v={id:"",name:"",number:""},x="id",b="name",j="number",g="reset";function y(e,n){var t=n.type,r=n.payload;switch(t){case x:return(0,m.Z)((0,m.Z)({},e),{},{id:r});case b:return(0,m.Z)((0,m.Z)({},e),{},{name:r});case j:return(0,m.Z)((0,m.Z)({},e),{},{number:r});case g:return v}}var Z=function(e){var n=e.onClose,t=e.contactById;console.log("contactById",t);var a=(0,l.v9)((function(e){return e.items})),o=a.contacts,u=(0,l.I0)(),h=(0,i.useReducer)(y,t,(function(e){return(0,m.Z)((0,m.Z)({},v),{},{id:e.id,name:e.name,number:e.number})})),x=(0,s.Z)(h,2),b=x[0],j=x[1],g=b.id,Z=b.name,C=b.number,w=function(e){var n=e.target,t=n.name,r=n.value;j({type:t,payload:r})},_=(0,i.useCallback)((function(e){"Escape"===e.code&&n()}));(0,i.useEffect)((function(){return window.addEventListener("keydown",_),function(){window.removeEventListener("keydown",_)}}),[_]);return(0,r.jsx)("div",{className:f,onClick:function(e){e.target===e.currentTarget&&n()},children:(0,r.jsxs)("form",{className:p,onSubmit:function(e){e.preventDefault();var t={id:g,name:Z,number:C},r=function(e){var n=e.name.toLowerCase(),t=null===o||void 0===o?void 0:o.map((function(e){return e.name.toLowerCase()}));return null===t||void 0===t||!t.includes(n)||(alert('"'.concat(e.name,'" is already in contacts !')),!1)}(t);r&&(u((0,d.ig)(t)),n())},children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("h3",{children:"Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:Z,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:w})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("h3",{children:"Number"}),(0,r.jsx)("input",{type:"tel",name:"number",value:C,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:w})]}),(0,r.jsx)(c.Z,{title:"Change contact",type:"submit"}),(0,r.jsx)(c.Z,{title:"Cancel",onClick:function(){return n()}})]})})},C=function(e){var n=e.contactsList,t=(0,l.v9)((function(e){return e.items})).contacts,a=(0,i.useState)({}),m=(0,s.Z)(a,2),h=m[0],f=m[1],p=(0,i.useState)(""),v=(0,s.Z)(p,2),x=v[0],b=v[1],j=(0,i.useState)(!1),g=(0,s.Z)(j,2),y=g[0],C=g[1],w=n.name,_=n.number,k=n.id,L=(0,l.I0)();return(0,r.jsxs)(r.Fragment,{children:[w&&_&&(0,r.jsxs)("li",{className:u,type:w,children:[w,": ",_,(0,r.jsx)(c.Z,{id:k,selected:x,title:"Delete",onClick:function(e){var n=e.target.id;b(n),console.log("id",n),L((0,d.rz)(n))}}),(0,r.jsx)(c.Z,{id:k,selected:x,title:"Edit",onClick:function(e){var n=e.target.id;f.apply(void 0,(0,o.Z)(t.filter((function(e){return e.id===n})))),C(!0)}})]}),y&&(0,r.jsx)(Z,{contactById:h,onClose:function(){C(!y)}})]})};var w=function(){var e=(0,l.v9)((function(e){return e.items.contacts}))||[],n=(0,l.v9)((function(e){return e.items.contactsLoader})),t=(0,l.v9)((function(e){return e.filter})),a=(0,l.I0)();(0,i.useEffect)((function(){a((0,d.yF)())}),[a]);var o=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return(0,r.jsx)(r.Fragment,{children:n?(0,r.jsx)(h.gy,{height:"25",width:"25",color:"red",ariaLabel:"loading"}):(0,r.jsx)("ul",{children:!!o.length&&o.map((function(e){return(0,r.jsx)(C,{contactsList:e},e.id)}))})})},_=t(5653),k=function(){var e=(0,l.v9)((function(e){return e.filter})),n=(0,l.I0)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("label",{style:{display:"grid"},children:["Find contacts by name",(0,r.jsx)("input",{type:"text",name:"filter",value:e,style:{width:"200px"},onChange:function(e){var t=e.target.value;n((0,_.x)(t))}})]})})},L="Form_form__Q0fax",F={name:"",number:""},A="name",N="number",z="reset";function E(e,n){var t=n.type,r=n.payload;switch(t){case A:return(0,m.Z)((0,m.Z)({},e),{},{name:r});case N:return(0,m.Z)((0,m.Z)({},e),{},{number:r});case z:return F}}var I=function(){var e=(0,l.v9)((function(e){return e.items.contacts})),n=(0,l.v9)((function(e){return e.items.addLoader})),t=(0,l.I0)(),a=(0,i.useReducer)(E,F),o=(0,s.Z)(a,2),u=o[0],m=o[1],f=u.name,p=u.number,v=function(e){var n=e.target,t=n.name,r=n.value;m({type:t,payload:r})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:L,onSubmit:function(n){n.preventDefault(),function(n){var r=n.name.toLowerCase(),a=null===e||void 0===e?void 0:e.map((function(e){return e.name.toLowerCase()}));null!==a&&void 0!==a&&a.includes(r)?alert('"'.concat(n.name,'" is already in contacts !')):t((0,d.d3)(n))}({name:f,number:p}),m({type:"reset"})},children:[(0,r.jsxs)("label",{children:[(0,r.jsx)("h3",{children:"Name"}),(0,r.jsx)("input",{type:"text",name:"name",value:f,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:v})]}),(0,r.jsxs)("label",{children:[(0,r.jsx)("h3",{children:"Number"}),(0,r.jsx)("input",{type:"tel",name:"number",value:p,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"number number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:v})]}),n?(0,r.jsx)(h.gy,{height:"27",width:"27",color:"red",ariaLabel:"loading"}):(0,r.jsx)(c.Z,{title:"Add contact",type:"submit"})]})})};var D=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(a,{title:"Phonebook",children:(0,r.jsx)(I,{})}),(0,r.jsx)(a,{children:(0,r.jsx)(k,{})}),(0,r.jsx)(a,{title:"Contacts",children:(0,r.jsx)(w,{})})]})}},6274:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(5671),a=t(3144),i=t(9340),o=t(5716),s=t(2791),c="Button_button__9lDDD",u=t(4298),l=t(6434),d=t(3329),m=function(e){(0,i.Z)(t,e);var n=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),n.apply(this,arguments)}return(0,a.Z)(t,[{key:"render",value:function(){var e,n=this.props,t=n.title,r=n.id,a=n.onClick,i=n.selected,o=n.type,s=void 0===o?"button":o,l=(null===this||void 0===this||null===(e=this.props)||void 0===e?void 0:e.loading)&&i===r&&"Delete"===t;return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("button",{disabled:!!l,className:c,id:r,onClick:a,type:s,children:l?(0,d.jsx)(u.gy,{height:"15",width:"15",color:"red",ariaLabel:"loading"}):t})})}}]),t}(s.Component),h=(0,l.$j)((function(e){return{loading:e.items.removeLoader}}))(m)}}]);
//# sourceMappingURL=606.a520742b.chunk.js.map